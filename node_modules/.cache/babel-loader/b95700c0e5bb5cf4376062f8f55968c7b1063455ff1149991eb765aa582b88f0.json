{"ast":null,"code":"import{Form}from\"./Form\";import{useDispatch}from\"react-redux\";import{setUser}from'store/slices/userSlice';import{getAuth,signInWithEmailAndPassword}from\"firebase/auth\";import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";var Login=function Login(){var dispatch=useDispatch();var _useHistory=useHistory(),push=_useHistory.push;var handleLogin=function handleLogin(email,password){var auth=getAuth();signInWithEmailAndPassword(auth,email,password).then(function(_ref){var user=_ref.user;console.log(user);dispatch(setUser({email:user.email,id:user.uid,token:user.accessToken}));push('/');}).catch(function(){return alert('Пользователя не существует!');});};return/*#__PURE__*/_jsx(Form,{title:\"sign in\",handleClick:handleLogin});};export{Login};","map":{"version":3,"names":["Form","useDispatch","setUser","getAuth","signInWithEmailAndPassword","useHistory","Login","dispatch","push","handleLogin","email","password","auth","then","user","console","log","id","uid","token","accessToken","catch","alert"],"sources":["/Users/mac/WebstormProjects/agsr/src/components/Login.js"],"sourcesContent":["import {Form} from \"./Form\";\nimport {useDispatch} from \"react-redux\";\nimport {setUser} from 'store/slices/userSlice';\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\nimport {useHistory} from 'react-router-dom';\n\nconst Login = () => {\n    const dispatch = useDispatch();\n    const {push} = useHistory();\n\n\n    const handleLogin = (email, password) => {\n        const auth = getAuth();\n        signInWithEmailAndPassword(auth, email, password)\n            .then(({user}) => {\n                console.log(user);\n                dispatch(setUser({\n                    email: user.email,\n                    id: user.uid,\n                    token: user.accessToken,\n                }));\n                push('/');\n            })\n            .catch(() => alert('Пользователя не существует!'))\n    }\n    return (\n        <Form\n    title=\"sign in\"\n    handleClick={handleLogin}\n        />\n    )\n}\n\nexport {Login};"],"mappings":"AAAA,OAAQA,IAAI,KAAO,QAAQ,CAC3B,OAAQC,WAAW,KAAO,aAAa,CACvC,OAAQC,OAAO,KAAO,wBAAwB,CAC9C,OAASC,OAAO,CAAEC,0BAA0B,KAAQ,eAAe,CACnE,OAAQC,UAAU,KAAO,kBAAkB,CAAC,2CAE5C,GAAMC,MAAK,CAAG,QAARA,MAAK,EAAS,CAChB,GAAMC,SAAQ,CAAGN,WAAW,EAAE,CAC9B,gBAAeI,UAAU,EAAE,CAApBG,IAAI,aAAJA,IAAI,CAGX,GAAMC,YAAW,CAAG,QAAdA,YAAW,CAAIC,KAAK,CAAEC,QAAQ,CAAK,CACrC,GAAMC,KAAI,CAAGT,OAAO,EAAE,CACtBC,0BAA0B,CAACQ,IAAI,CAAEF,KAAK,CAAEC,QAAQ,CAAC,CAC5CE,IAAI,CAAC,cAAY,IAAVC,KAAI,MAAJA,IAAI,CACRC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CACjBP,QAAQ,CAACL,OAAO,CAAC,CACbQ,KAAK,CAAEI,IAAI,CAACJ,KAAK,CACjBO,EAAE,CAAEH,IAAI,CAACI,GAAG,CACZC,KAAK,CAAEL,IAAI,CAACM,WAChB,CAAC,CAAC,CAAC,CACHZ,IAAI,CAAC,GAAG,CAAC,CACb,CAAC,CAAC,CACDa,KAAK,CAAC,iBAAMC,MAAK,CAAC,6BAA6B,CAAC,GAAC,CAC1D,CAAC,CACD,mBACI,KAAC,IAAI,EACT,KAAK,CAAC,SAAS,CACf,WAAW,CAAEb,WAAY,EACnB,CAEV,CAAC,CAED,OAAQH,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}